(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(14),a=n.n(r),s=(n(19),n(3)),o=n(0),u=function(e){var t=e.person,n=e.remove;return Object(o.jsx)("div",{className:"person",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){var e=t.id,c=t.name;n(e,c)},children:"delete"})," ",t.name," ",t.number]})})},i=function(e){var t=e.persons,n=e.removePerson;return Object(o.jsx)(o.Fragment,{children:t.map((function(e){return Object(o.jsx)(u,{person:e,remove:n},e.id)}))})},j=function(e){var t=e.setFilter;return Object(o.jsxs)("div",{className:"inputs",children:["search: ",Object(o.jsx)("input",{onChange:function(e){var n=e.target;return t(n.value)}})]})},l=function(e){var t=e.newName,n=e.setNewName,c=e.newNumber,r=e.setNewNumber,a=e.addPerson;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{className:"newform",onSubmit:a,children:[Object(o.jsxs)("div",{className:"inputs",children:["name: ",Object(o.jsx)("input",{value:t,onChange:function(e){n(e.target.value)}})]}),Object(o.jsxs)("div",{className:"inputs",children:["number: ",Object(o.jsx)("input",{value:c,onChange:function(e){r(e.target.value)}})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})})},d=function(e){var t=e.message;return null===t?null:Object(o.jsx)("div",{className:"error",children:t})},b=n(4),m=n.n(b),f="/api/persons",h={getAll:function(){return m.a.get(f).then((function(e){return e.data}))},create:function(e){return m.a.post(f,e).then((function(e){return e.data}))},update:function(e,t){return m.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},remove:function(e){m.a.delete("".concat(f,"/").concat(e))}},O=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),u=Object(s.a)(a,2),b=u[0],m=u[1],f=Object(c.useState)(""),O=Object(s.a)(f,2),v=O[0],p=O[1],x=Object(c.useState)(""),N=Object(s.a)(x,2),w=N[0],g=N[1],k=Object(c.useState)(null),C=Object(s.a)(k,2),S=C[0],P=C[1];Object(c.useEffect)((function(){h.getAll().then((function(e){r(e)}))}),[]);var y=""===w?n:n.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}));return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("h1",{children:"Phonebook"}),Object(o.jsx)(d,{message:S}),Object(o.jsx)(j,{setFilter:g}),Object(o.jsx)("h2",{children:"Add New"}),Object(o.jsx)(l,{addPerson:function(e){e.preventDefault();var t="".concat(b).replace(/\s+/g," ").trim();if(void 0===n.find((function(e){return e.name===t}))){var c={name:t,number:v};h.create(c).then((function(e){r(n.concat(e)),m(""),p(""),P("".concat(t," was added succesfully!")),setTimeout((function(){P(null)}),5e3)}))}else window.alert("".concat(t," already added to the phonebook."))},newName:b,setNewName:m,newNumber:v,setNewNumber:p}),Object(o.jsx)("h2",{children:"Numbers"}),Object(o.jsx)(i,{persons:y,removePerson:function(e,t){window.confirm("Delete ".concat(t,"?"))&&(h.remove(e),r(n.filter((function(t){return t.id!==e}))),P("".concat(t," has been deleted.")),setTimeout((function(){P(null)}),5e3))}})]})};a.a.render(Object(o.jsx)(O,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.9cd6bbea.chunk.js.map