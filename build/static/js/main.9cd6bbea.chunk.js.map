{"version":3,"sources":["Persons.js","Search.js","NewPerson.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","remove","className","onClick","id","name","number","Persons","persons","removePerson","map","Search","setFilter","onChange","target","value","NewPerson","newName","setNewName","newNumber","setNewNumber","addPerson","onSubmit","event","type","Notification","message","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","put","delete","App","useState","setPersons","filter","errorMessage","setErrorMessage","useEffect","personService","initialPersons","personsToShow","toLowerCase","includes","preventDefault","nameTrim","replace","trim","undefined","find","personObject","returnedPerson","concat","setTimeout","window","alert","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9cd6bbea.chunk.js","sourcesContent":["const Person = ({person, remove}) => {\r\n    return (\r\n        <div className='person'>\r\n          <div><button onClick={() => {\r\n            const id = person.id\r\n            const name = person.name\r\n            remove(id, name)}}>delete</button> {person.name} {person.number}\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n  \r\n  const Persons = ({persons, removePerson}) => {\r\n    return (\r\n      <>\r\n        {persons.map(person => \r\n          <Person key={person.id} person={person} remove={removePerson} />\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default Persons;","const Search = ({setFilter}) => {\r\n    return (\r\n      <div className='inputs'>\r\n        search: <input onChange={({target}) => setFilter(target.value)} />\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Search;","const NewPerson = ({newName, setNewName, newNumber, setNewNumber, addPerson}) => {\r\n    const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n    }\r\n  \r\n    return (\r\n      <>\r\n        <form className='newform' onSubmit={addPerson}>\r\n          <div className='inputs'>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n          </div>\r\n          <div className='inputs'>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </>\r\n    )\r\n  }\r\n\r\n  export default NewPerson;","const Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst exportedObject = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove\r\n};\r\n\r\nexport default exportedObject;","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons'\nimport Search from './Search'\nimport NewPerson from './NewPerson'\nimport Notification from './Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const nameTrim = `${newName}`.replace(/\\s+/g, ' ').trim();\n    const nameFind = persons.find( ({ name }) => name === nameTrim );\n      if (nameFind === undefined) {\n        const personObject = {\n          name: nameTrim,\n          number: newNumber,\n        }\n\n        personService\n          .create(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setErrorMessage(\n              `${nameTrim} was added succesfully!`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        }\n        else {\n          window.alert(`${nameTrim} already added to the phonebook.`);\n        }\n  }\n\n  const removePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService.remove(id);\n      setPersons(persons.filter((person) => person.id !== id));\n      setErrorMessage(\n        `${name} has been deleted.`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const personsToShow = \n    filter === \"\"\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      );\n\n  return (\n    <div className='card'>\n      <h1>Phonebook</h1>\n        <Notification message={errorMessage} />\n        <Search setFilter={setFilter} />\n      <h2>Add New</h2>\n        <NewPerson addPerson={addPerson}\n          newName={newName} setNewName={setNewName}\n          newNumber={newNumber} setNewNumber={setNewNumber}\n        />\n      <h2>Numbers</h2>\n        <Persons persons={personsToShow} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}